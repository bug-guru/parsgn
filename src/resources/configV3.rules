ConfigFile: Rule {Rule} ^{I};
Rule: ^{I} Name ^{I} ^":" ExpressionList ^";";

// Ignorable
I: WhiteSpace | SingleLineComment | MultiLineComment;

WhiteSpace: #WHITESPACE {#WHITESPACE};

SingleLineComment: "//" {#DEFINED, #EOL};

MultiLineComment: "/*" {#DEFINED, "*/"};

Name: ~(#UNICODE_IDENTIFIER_START {#UNICODE_IDENTIFIER_PART});

Expression: AltGroup | Name | CharType | String | Group | Repeat | Optional | Replace;

AltGroup: AltGroupItem ^{I} ^"|" ^{I} AltGroupItem {^{I} ^"|" ^{I} AltGroupItem};

AltGroupItem: Name | CharType | String | Sequence | Replace;

CharType: ^"#" Name; //TODO: list all possible char types

String: ^"\"" ~{"\\\""->"\"" | "\\\\"->"\\" | #DEFINED, ^"\""};

Sequence: "(" ExpressionList ")";

Repeat: ^"{" ExpressionList ["," ^{I} Expression ^{I}] ^"}";

Optional: ^"[" ExpressionList ^"]";

ExpressionList: ^{I} Expression {^{I} Expression} ^{I};

Replace: Expression ^"->" String;